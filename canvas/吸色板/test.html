<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style>
			#myCanvas{
				box-shadow: 0 0 5px black;
				margin-top: 50px;
				margin-left: 50px;
			}
			#myCanvas2{
				box-shadow: 0 0 5px salmon;
			}
			#show{
				float: left;
				width: 150px;
				height: 100px;
				background-color: silver;
				display: none;
			}
		</style>
	</head>
	<body>
		<!--宽高只能在属性值设置，样式设置像素值有差别-->
		<canvas id="myCanvas" width="500" height="500">浏览器版本太低，请更新</canvas>
		<!--<canvas id="myCanvas2" width="50" height="50">
		</canvas>-->
		<div id="show">111</div>
	</body>
	

	<script>
		//获取canvas对象
		var canvas = document.getElementById("myCanvas");
		//上下文:理解：canvas标签内置画笔
		var ctx = canvas.getContext("2d");//目前仅支持2d画板

		var show=document.getElementById("show");
		//放在服务器下执行
		var imgObj=new Image();
		imgObj.src="22.jpg";
		imgObj.onload=function(){
			ctx.drawImage(this,0,0,500,500)
		}

		canvas.onmousemove=function(e){
			show.style.display="block";
			var e=e || window.event;
			//鼠标点的位置
			var x=e.offsetX;
			var y=e.offsetY;
			console.log(x,y)
			// // 获取像素点
			var imgData=ctx.getImageData(x,y,1,1);
			var rgba="rgba("+imgData.data[0]+","+imgData.data[1]+","+imgData.data[2]+","+imgData.data[3]+")";
			show.innerHTML=rgba;
			show.style.backgroundColor=rgba;
			canvas.onmouseout=function(){
				show.style.display="none"
			}
		}
	

	

		

	</script>
</html>
